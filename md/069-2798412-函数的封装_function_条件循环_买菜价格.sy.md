---
show: step
version: 1.0
enable_checker: true
---

# 图片元素

## 回忆

- 上次研究了document对象
- document是
	- 文档对象
	- 是窗口(window)中的文档对象

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723687189184)

- 在文档(document)中
	- 通过getElementById可以得到具体的元素
	- 然后得到元素的值
	- 也可以对元素属性赋值
- 可以根据这套DOM结构
	- Document Object Model 来做点什么吗？

### 封装函数

- 将原来的语句封装成函数
	- 然后再onclick的时候
	- 进行调用

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723688299722)

- 定义函数

```html
    <script>
        function getValue(){
            i1 = document.getElementById("i1");
            p1 = document.getElementById("p1");
            p1.innerText = i1.value;
        }
    </script>
```

- 结果

### 效果

- 点击按钮
	- 可以出发函数

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723688527161)

- 如果想做一个
	- 温度判断
	- 是否发烧之类的
- 应该如何做呢？

### 条件分支

```
    <script>
        function getValue(){
            i1 = document.getElementById("i1");
            p1 = document.getElementById("p1");
            if (i1 < 37){
                p1.innerText = "fine";
            }
            else{
                p1.innerText = "fever";
            }
        }
    </script>
```

- 尝试运行
	- 36或者38
	- 结果都为fever

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723691910700)

- 这是为什么呢？

### debug
- 开启调试模式
	1. 找到调试(debug)窗口
	2. 找到当前网页文件
	3. 在第七行按下，设置断点

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723692025726)

- 然后刷新网页
	- 进入断点

### 运行

- 点击跨越(Step over)
	- 进入下一句

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723692297717)

- 依次通过
	- 第8行
	- 第9行
- 条件判断的结果
	- 去了13行
- 问题在哪？

### 再次刷新

- 再次刷新之后
	- 步进到9行
	- 添加监视(watch)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723693491689)

- 添加两个监视(watch)
	1. i1
	2. i1.value

- 该判断的值
	- 应该是i1.value
	- 而不是i1

### 修改代码

- 修改并保存代码

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723693655999)

- 刷新网页

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723693801240)

- 调试器调版
	- 找到网页文件
	- 第7行依然有断点
	- 步进到第9行
- 经过if语句
	- 跳转到第10行
	- 正确了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723694124043)

- 在第7行上面
	- 点击一下
	- 取消第7行的断点

### 继续运行网页

- F12关闭调试面板

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723694168026)

- 程序已经完全符合需求

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723694185141)

- 可以做一个循环的程序吗？🤔
	- 比如阶乘？🤔

### 循环结构

```html
    <script>
        function getValue(){
            i1 = document.getElementById("i1");
            p1 = document.getElementById("p1");
            f = 1;
            for(i=1;i<=i1.value;i++){
                f = f * i;
            }
            p1.innerText = f;
        }
    </script>
```

- 阶乘程序
	- 运行成功

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723694434556)

- 可以做一个更复杂点的的吗？

### 称重

- 输入
	- 西瓜重量
	- 单价

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723694521338)

- 输出
	- 西瓜价格

### 修改代码

```
<!DOCTYPE html>
<html lang=en>
<head>
	<meta charset="UTF-8">
    <script>
        function getValue(){
            i1 = document.getElementById("i1");
            i2 = document.getElementById("i2");
            p1 = document.getElementById("p1");
            price = i1 * i2
            p1.innerText = price;
        }
    </script>
	<title>Document</title>
</head>
<body>
    西瓜单价<input id="i1"> X 
    西瓜重量<input id="i2">
    <button id="b1" type=button onclick="getValue()">
         press me
    </button>
    <p id="p1">i am paragraph text!</p>
</body>
</html>
```

- 结果出了问题
- 问题在哪？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723695773570)

- 再进调试模式

### 调试模式

- F12 进入调试模式

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723695909285)

- 问题和上次一样
	- 需要的是i1.value
	- 而不是i1

### 修改代码

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723696172503)

- 问题解决了

### 总结 🤔

- 这次深入了dom对象的读写
	- 可以读取文本框的value
	- 也可以写p元素的innerHtml
- 如果发现问题
	- 可以通过debug调试器进去
	- 设置断点
	- 添加监视
	- 找到问题

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240815-1723696462462)

- 想要做个一个计算器？
	- 有可能吗？🤔
- 下次再说！👋